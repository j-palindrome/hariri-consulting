import{j as x,o as w,r as $}from"./jsx-runtime-7ou52q_D.js";function F({children:r,title:t,className:e,innerClassName:i,fullWidth:o=!1,columns:a=!1}){return x.jsxs("div",{className:`w-full my-2 flex-none space-y-2 px-8 leading-6 ${o?"":"mx-auto max-w-4xl"} ${e??""}`,children:[t&&x.jsx("h2",{className:"text-center text-3xl font-bold",children:t}),x.jsx("div",{className:`${a?"flex":""} ${i}`,children:r})]})}var L=/^image-([\da-f]+)-(\d+x\d+)-(\w+)$/,R=r=>{let t=L.exec(r),[,e,i,o]=t??[];if(!t||!e||!i||!o)throw new Error(`Could not parse image ID "${r}"`);let[a,s]=i.split("x").map(m=>Number.parseInt(m,10));if(Number.isNaN(a)||Number.isNaN(s)||!a||!s)throw new Error(`Invalid dimensions "${i}"`);return{assetId:e,dimensions:{height:s,width:a,aspectRatio:a/s},format:o}},U=r=>{let t=r.lastIndexOf("-");return r.slice(6,t)+"."+r.slice(t+1)},O=({baseUrl:r,...t})=>{let{metadata:e,...i}=M({...t,options:{includeMetadata:!0}});if(!e)throw new Error("Missing image output metadata");return{src:`${`${r}${U(t.id)}`}?${D(i)}`,width:e.outputDimensions.width,height:e.outputDimensions.height}},P=({id:r,mode:t="contain",width:e,height:i,hotspot:o,crop:a,baseUrl:s,...m})=>{let{w:l,h:u}=M({id:r,mode:t,width:e,height:i,hotspot:o,crop:a}),p=`${s}${U(r)}`,d=k(l).map(n=>{let h=Math.round(l*n),f=u&&Math.round(u*n);if(n<1&&h<50)return null;let g=M({id:r,mode:t,width:h,height:f,hotspot:o,crop:a,...m});return`${p}?${D(g)} ${g.w}w`}).filter(n=>!!n);return Array.from(new Set(d))},A=({id:r,baseUrl:t})=>{let{assetId:e,dimensions:i,format:o}=R(r);return{src:`${t}${e}-${i.width}x${i.height}.${o}`,width:i.width,height:i.height}},k=r=>r<160?[.5,1,2]:r<750?[.5,1,1.5,2]:r<1400?[.25,.5,.75,1,1.5,2]:[.25,.5,.75,1,1.25,1.5,1.75,2],M=({id:r,mode:t="contain",width:e,height:i,hotspot:o,crop:a,queryParams:s,options:{includeMetadata:m=!1}={}})=>{let l=R(r).dimensions,{width:u,height:p,aspectRatio:d}=a?q(l,a):l;if(e||(i?(e=Math.round(i*d),i=void 0):e=Math.round(u/2)),t==="cover"&&(!e||!i||e/i===d)?t="contain":t==="contain"&&i&&(e=Math.min(e,Math.round(i*d)),i=void 0),e>u||i&&i>p){let h=i?e/i:d;h>=d?(e=u,i=i&&Math.round(e/h)):(i=p,e=Math.round(i*h))}let n={w:e,q:75,...s};if(n.fm||(n.auto="format"),a&&(n.rect=z(l,a)),t==="cover")if(n.fit="crop",i&&(n.h=i),o){let h=a?o.x/(1-a.left-a.right):o.x,f=a?o.y/(1-a.top-a.bottom):o.y;n["fp-x"]=I(j(h,0,1),3),n["fp-y"]=I(j(f,0,1),3)}else n.crop="entropy";else n.fit="max";if(m){let h=i||Math.round(e/d);n.metadata={sourceDimensions:l,outputDimensions:{width:e,height:h,aspectRatio:e/h}}}return n},j=(r,t,e)=>Math.max(t,Math.min(e,r)),I=(r,t)=>Math.round(r*Math.pow(10,t))/Math.pow(10,t),q=(r,t)=>{if(t.left+t.right>=1||t.top+t.bottom>=1)throw new Error(`Invalid crop: ${JSON.stringify(t)}; crop values must be less than 1`);let e=Math.round(r.width*(1-t.left-t.right)),i=Math.round(r.height*(1-t.top-t.bottom)),o=e/i;return{width:e,height:i,aspectRatio:o}},z=(r,t)=>{let{width:e,height:i}=q(r,t);return[Math.round(t.left*r.width),Math.round(t.top*r.height),e,i].join(",")},D=r=>new URLSearchParams(Object.entries(r).sort(([t],[e])=>t.localeCompare(e)).map(([t,e])=>[t,String(e)])).toString().replace(/%2C/g,","),B=({as:r,preview:t,...e})=>{let[i,o]=$.useState(!1),a=$.useRef(null),s=()=>{o(!0)};$.useEffect(()=>{var l;(l=a.current)!=null&&l.complete&&s()});let m=r||"img";return w.createElement(w.Fragment,null,!i&&w.createElement(m,{alt:e.alt,className:e.className,"data-lqip":!0,height:e.height,id:e.id,src:t,style:e.style,width:e.width}),w.createElement(m,{"data-loading":i?null:!0,onLoad:s,ref:a,style:i?void 0:{height:"10px !important",width:"10px !important",position:"absolute",zIndex:-10,opacity:0,pointerEvents:"none",userSelect:"none"},...e}))},H=({as:r,baseUrl:t,projectId:e,dataset:i,id:o,hotspot:a,crop:s,width:m,height:l,mode:u="contain",preview:p,htmlWidth:d,htmlHeight:n,htmlId:h,queryParams:f,...g})=>{var v,y;if(!o)throw new Error("Missing required `id` prop for <SanityImage>.");if(!t&&(!e||!i))throw new Error("Missing required `baseUrl` or `projectId` and `dataset` props for <SanityImage>.");t=t??`https://cdn.sanity.io/images/${e}/${i}/`;let b=o.endsWith("-svg"),E=p&&!b?B:r??"img",c={alt:(v=g.alt)!=null?v:"",loading:(y=g.loading)!=null?y:"lazy",id:h,...g};if(b)return w.createElement(E,{...A({id:o,baseUrl:t}),...c});let N={baseUrl:t,id:o,crop:s,hotspot:a,width:m,height:l,mode:u,queryParams:f},{src:C,...S}=O(N);return c.srcSet=P(N).join(", "),c.src=C,c.width=d??S.width,c.height=n??S.height,p&&(c.as=r??"img",c.preview=p),w.createElement(E,{...c})};const J="https://cdn.sanity.io/images/nctksjox/production/";export{J as B,F as S,H as k};
